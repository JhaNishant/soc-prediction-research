schema: '2.0'
stages:
  data_cleaning:
    cmd: "time python src/preprocessing/data_cleaning.py data/raw/lucas.csv.gz data/preprocessed/cleaned_data.csv.gz\n"
    deps:
    - path: data/raw/lucas.csv.gz
      hash: md5
      md5: 3ea8e5d4f415ddba6a294bee61e55db6
      size: 28112307
    - path: src/preprocessing/data_cleaning.py
      hash: md5
      md5: 13430d1580633ab56d80cea897ed91ff
      size: 1194
      isexec: true
    outs:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 3de987f7b6ab994edd12732ed0083ccf
      size: 27383059
      isexec: true
  correlation_analysis:
    cmd: "time python src/analysing/correlation_analysis.py data/preprocessed/cleaned_data.csv.gz\
      \ results/correlation_analysis/soc_percent_correlations.csv results/correlation_analysis/correlation_bar_graph.png\
      \ results/correlation_analysis/scatterplot_matrix.png\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 3de987f7b6ab994edd12732ed0083ccf
      size: 27383059
    - path: src/analysing/correlation_analysis.py
      hash: md5
      md5: 7b94909542af98f8be75b190f18fa471
      size: 4007
      isexec: true
    outs:
    - path: results/correlation_analysis/correlation_bar_graph.png
      hash: md5
      md5: dfbd456ea5ab715c9984b0b1df3f1eb9
      size: 45099
      isexec: true
    - path: results/correlation_analysis/scatterplot_matrix.png
      hash: md5
      md5: a1d8145ba5300c8ddc92d19c0e1600e4
      size: 1984548
      isexec: true
    - path: results/correlation_analysis/soc_percent_correlations.csv
      hash: md5
      md5: c13ecf37b0d0ad5758e705df5e62443e
      size: 12263
      isexec: true
  data_imputation:
    cmd: "time python src/preprocessing/data_imputation.py data/preprocessed/cleaned_data.csv.gz\
      \ data/imputed/imputed_data.csv.gz\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 3de987f7b6ab994edd12732ed0083ccf
      size: 27383059
    - path: src/preprocessing/data_imputation.py
      hash: md5
      md5: 49c7dead8ba2180e2faa10e339b87be4
      size: 2225
      isexec: true
    outs:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a69473ebb769547b888e6cbccbc9fd93
      size: 27554564
      isexec: true
  regression_analysis:
    cmd: "time python src/analysing/regression_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/regression_analysis/predictions.csv results/regression_analysis/regression_coefficients.csv\
      \ results/regression_analysis/predicted_vs_actual_plot.png results/regression_analysis/regression_plot.png\
      \ models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a69473ebb769547b888e6cbccbc9fd93
      size: 27554564
    - path: src/analysing/regression_analysis.py
      hash: md5
      md5: 8ae115e6dca4e133a8607bd699725e2d
      size: 5174
      isexec: true
    outs:
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
      isexec: true
    - path: results/regression_analysis/predicted_vs_actual_plot.png
      hash: md5
      md5: 092a49a518da58783da8f0ca41481d9f
      size: 105695
      isexec: true
    - path: results/regression_analysis/predictions.csv
      hash: md5
      md5: cbde985719ba73a72321952e5fd0c892
      size: 275129
      isexec: true
    - path: results/regression_analysis/regression_coefficients.csv
      hash: md5
      md5: c59708a4107d0a225882b149f94b2604
      size: 12437
      isexec: true
    - path: results/regression_analysis/regression_plot.png
      hash: md5
      md5: d9c1d03aaada0e7945290c40707d1193
      size: 80589
      isexec: true
  permutation_importance:
    cmd: "time python src/analysing/permutation_importance_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/permutation_importance_analysis/permutation_importance.csv results/permutation_importance_analysis/permutation_importance.png\
      \  models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a69473ebb769547b888e6cbccbc9fd93
      size: 27554564
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
    - path: src/analysing/permutation_importance_analysis.py
      hash: md5
      md5: 8bbf7bf31b6f4edeece0757d60d85554
      size: 3153
      isexec: true
    outs:
    - path: results/permutation_importance_analysis/permutation_importance.csv
      hash: md5
      md5: fe12c899019178c752ac6fc50f502df6
      size: 16346
      isexec: true
    - path: results/permutation_importance_analysis/permutation_importance.png
      hash: md5
      md5: ef75f9140fd4cd1f7064ee34628f8197
      size: 58492
      isexec: true
  clustering_analysis:
    cmd: "python src/analysing/clustering_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/clustering_analysis\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: 5fdaa4ad8e9da3d424767e7087526e24
      size: 27567121
    - path: src/analysing/clustering_analysis.py
      hash: md5
      md5: 8856a0f4510cc36ab5801ff43cb300b0
      size: 3497
    outs:
    - path: results/clustering_analysis
      hash: md5
      md5: 14cdb57eab9d4b4feed20343f1e2d631.dir
      size: 88836323
      nfiles: 11
