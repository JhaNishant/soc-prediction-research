schema: '2.0'
stages:
  data_cleaning:
    cmd: python src/preprocessing/data_cleaning.py data/raw/lucas.csv.gz data/preprocessed/cleaned_data.csv.gz
    deps:
    - path: data/raw/lucas.csv.gz
      md5: 3ea8e5d4f415ddba6a294bee61e55db6
      size: 28112307
    - path: src/preprocessing/data_cleaning.py
      md5: 7935ac43508a2bcc07f8195d688ab77b
      size: 1194
    outs:
    - path: data/preprocessed/cleaned_data.csv.gz
      md5: 41eaf060a7d6da66a2520024c1dbb4e3
      size: 27394784
  correlation_analysis:
    cmd: "python src/analysing/correlation_analysis.py data/preprocessed/cleaned_data.csv.gz\
      \ results/correlation_analysis/soc_percent_correlations.csv results/correlation_analysis/correlation_bar_graph.png\
      \ results/correlation_analysis/scatterplot_matrix.png\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      md5: 41eaf060a7d6da66a2520024c1dbb4e3
      size: 27394784
    - path: src/analysing/correlation_analysis.py
      md5: 0c1108a31e5b114e7972ff8968c9f55f
      size: 4007
    outs:
    - path: results/correlation_analysis/correlation_bar_graph.png
      md5: dfbd456ea5ab715c9984b0b1df3f1eb9
      size: 45099
    - path: results/correlation_analysis/scatterplot_matrix.png
      md5: a1d8145ba5300c8ddc92d19c0e1600e4
      size: 1984548
    - path: results/correlation_analysis/soc_percent_correlations.csv
      md5: c13ecf37b0d0ad5758e705df5e62443e
      size: 12437
  data_imputation:
    cmd: python src/preprocessing/data_imputation.py data/preprocessed/cleaned_data.csv.gz
      data/imputed/imputed_data.csv.gz
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      md5: 41eaf060a7d6da66a2520024c1dbb4e3
      size: 27394784
    - path: src/preprocessing/data_imputation.py
      md5: af0d92d33276b9ed3a7ca4248fd26c6b
      size: 2225
    outs:
    - path: data/imputed/imputed_data.csv.gz
      md5: 5fdaa4ad8e9da3d424767e7087526e24
      size: 27567121
  regression_analysis:
    cmd: "python src/analysing/regression_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/regression_analysis/predictions.csv results/regression_analysis/regression_coefficients.csv\
      \ results/regression_analysis/predicted_vs_actual_plot.png results/regression_analysis/regression_plot.png\
      \ models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      md5: 5fdaa4ad8e9da3d424767e7087526e24
      size: 27567121
    - path: src/analysing/regression_analysis.py
      md5: 745f4d577bd04d90aefbd1c8900ab965
      size: 5174
    outs:
    - path: models/regression_analysis/rf_model.pkl
      md5: 36f6c5b40ab681b405316ee3dc730bf9
      size: 396628689
    - path: results/regression_analysis/predicted_vs_actual_plot.png
      md5: 092a49a518da58783da8f0ca41481d9f
      size: 105695
    - path: results/regression_analysis/predictions.csv
      md5: 047f60d3c0ee04cc1a0734166d5a845e
      size: 286727
    - path: results/regression_analysis/regression_coefficients.csv
      md5: 355bf6b0785abe92d344d7836a365156
      size: 12610
    - path: results/regression_analysis/regression_plot.png
      md5: d9c1d03aaada0e7945290c40707d1193
      size: 80589
  permutation_importance:
    cmd: "python src/analysing/permutation_importance_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/permutation_importance_analysis/permutation_importance.csv results/permutation_importance_analysis/permutation_importance.png\
      \  models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      md5: 5fdaa4ad8e9da3d424767e7087526e24
      size: 27567121
    - path: models/regression_analysis/rf_model.pkl
      md5: 36f6c5b40ab681b405316ee3dc730bf9
      size: 396628689
    - path: src/analysing/permutation_importance_analysis.py
      md5: 554127b06474a88be481acbc1e8bf5b4
      size: 3153
    outs:
    - path: results/permutation_importance_analysis/permutation_importance.csv
      md5: ce84dc2b9b3af3491c0012afbf731010
      size: 16508
    - path: results/permutation_importance_analysis/permutation_importance.png
      md5: ef75f9140fd4cd1f7064ee34628f8197
      size: 58492
