schema: '2.0'
stages:
  data_cleaning:
    cmd: "time python src/preprocessing/data_cleaning.py data/raw/lucas.csv.gz data/preprocessed/cleaned_data.csv.gz\n"
    deps:
    - path: data/raw/lucas.csv.gz
      hash: md5
      md5: 3ea8e5d4f415ddba6a294bee61e55db6
      size: 28112307
    - path: src/preprocessing/data_cleaning.py
      hash: md5
      md5: 13430d1580633ab56d80cea897ed91ff
      size: 1194
    outs:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 459e093d220d75e10510a3afdae817c1
      size: 27383059
  data_imputation:
    cmd: "time python src/preprocessing/data_imputation.py data/preprocessed/cleaned_data.csv.gz\
      \ data/imputed/imputed_data.csv.gz\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 459e093d220d75e10510a3afdae817c1
      size: 27383059
    - path: src/preprocessing/data_imputation.py
      hash: md5
      md5: 49c7dead8ba2180e2faa10e339b87be4
      size: 2225
    outs:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
  lasso_regression:
    cmd: "time python src/machine_learning/lasso_regression.py data/imputed/imputed_data.csv.gz\
      \ models/lasso_regression/lr_model.pkl results/lasso_regression/lasso_coefficients.csv\
      \ results/lasso_regression/lasso_regression_plot.png\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/machine_learning/lasso_regression.py
      hash: md5
      md5: 8748750802f370cdc47fae5560099cf2
      size: 4842
    outs:
    - path: models/lasso_regression/lr_model.pkl
      hash: md5
      md5: 677dfc1274d6e3ef1845d9a122fd4782
      size: 405749
    - path: results/lasso_regression/lasso_coefficients.csv
      hash: md5
      md5: 62cc0da5c15d2d548c346280bb081288
      size: 11190
    - path: results/lasso_regression/lasso_regression_plot.png
      hash: md5
      md5: d8e144be1d3b94730f1970c3ff89d0a6
      size: 190784
  svm_regression:
    cmd: "time python src/machine_learning/svm_regression.py data/imputed/imputed_data.csv.gz\
      \ models/svm_regression/svm_model.pkl results/svm_regression/svm_regression_plot.png\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/machine_learning/svm_regression.py
      hash: md5
      md5: 20f4cb6ca0d68310b12b150b112c345b
      size: 4616
    outs:
    - path: models/svm_regression/svm_model.pkl
      hash: md5
      md5: de84c30373889fff4d2489ff431df217
      size: 68645952
    - path: results/svm_regression/svm_regression_plot.png
      hash: md5
      md5: c19c72b713f45c50e763faf11b1eb24e
      size: 151748
  correlation_analysis:
    cmd: "time python src/analysing/correlation_analysis.py data/preprocessed/cleaned_data.csv.gz\
      \ results/correlation_analysis/soc_percent_correlations.csv results/correlation_analysis/correlation_bar_graph.png\
      \ results/correlation_analysis/scatterplot_matrix.png\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: 459e093d220d75e10510a3afdae817c1
      size: 27383059
    - path: src/analysing/correlation_analysis.py
      hash: md5
      md5: 7b94909542af98f8be75b190f18fa471
      size: 4007
    outs:
    - path: results/correlation_analysis/correlation_bar_graph.png
      hash: md5
      md5: dfbd456ea5ab715c9984b0b1df3f1eb9
      size: 45099
    - path: results/correlation_analysis/scatterplot_matrix.png
      hash: md5
      md5: a1d8145ba5300c8ddc92d19c0e1600e4
      size: 1984548
    - path: results/correlation_analysis/soc_percent_correlations.csv
      hash: md5
      md5: c13ecf37b0d0ad5758e705df5e62443e
      size: 12263
  regression_analysis:
    cmd: "time python src/analysing/regression_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/regression_analysis/predictions.csv results/regression_analysis/regression_coefficients.csv\
      \ results/regression_analysis/predicted_vs_actual_plot.png results/regression_analysis/regression_plot.png\
      \ models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/analysing/regression_analysis.py
      hash: md5
      md5: 8ae115e6dca4e133a8607bd699725e2d
      size: 5174
    outs:
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
    - path: results/regression_analysis/predicted_vs_actual_plot.png
      hash: md5
      md5: 092a49a518da58783da8f0ca41481d9f
      size: 105695
    - path: results/regression_analysis/predictions.csv
      hash: md5
      md5: 173d9e681bcd5b95999a69292cf7f40b
      size: 275130
    - path: results/regression_analysis/regression_coefficients.csv
      hash: md5
      md5: c59708a4107d0a225882b149f94b2604
      size: 12437
    - path: results/regression_analysis/regression_plot.png
      hash: md5
      md5: d9c1d03aaada0e7945290c40707d1193
      size: 80589
  permutation_importance:
    cmd: "time python src/analysing/permutation_importance_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/permutation_importance_analysis/permutation_importance.csv results/permutation_importance_analysis/permutation_importance.png\
      \  models/regression_analysis/rf_model.pkl\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
    - path: src/analysing/permutation_importance_analysis.py
      hash: md5
      md5: 8bbf7bf31b6f4edeece0757d60d85554
      size: 3153
    outs:
    - path: results/permutation_importance_analysis/permutation_importance.csv
      hash: md5
      md5: af70bf6b307ddb8b2d5558ce2e625dcf
      size: 16339
    - path: results/permutation_importance_analysis/permutation_importance.png
      hash: md5
      md5: ef75f9140fd4cd1f7064ee34628f8197
      size: 58492
  lgbm_regression:
    cmd: "time python src/machine_learning/lgbm_regression.py data/imputed/imputed_data.csv.gz\
      \ models/lgbm_regression/lgbm_model.pkl results/lgbm_regression/lgbm_regression_plot.png\
      \ results/lgbm_regression/lgbm_importance_features.csv\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/machine_learning/lgbm_regression.py
      hash: md5
      md5: 3301fc4b5612f8d7c512abe7cc3ce24c
      size: 5110
    outs:
    - path: models/lgbm_regression/lgbm_model.pkl
      hash: md5
      md5: 78d14e6674f6dcd47e2a697cf1ce14e0
      size: 288650
    - path: results/lgbm_regression/lgbm_importance_features.csv
      hash: md5
      md5: cfe1f039637c8798e6fabfaf2a426e78
      size: 9241
    - path: results/lgbm_regression/lgbm_regression_plot.png
      hash: md5
      md5: 6be1f7bfc85822efbc0b83a4965ed7dc
      size: 237419
  mlp_regression:
    cmd: "time python src/deep_learning/mlp_regression.py data/imputed/imputed_data.csv.gz\
      \ results/mlp_regression/mlp_regression_plot.png models/mlp_regression/mlp_model.h5\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/deep_learning/mlp_regression.py
      hash: md5
      md5: cce78b2a02884f7d414210ed24f7caf1
      size: 4844
    outs:
    - path: models/mlp_regression/mlp_model.h5
      hash: md5
      md5: 44c86690cead335e0fa1633262e257d0
      size: 188984
    - path: results/mlp_regression/mlp_regression_plot.png
      hash: md5
      md5: 99fbfdf40b435bf2874556dcc0b97ccf
      size: 220198
  dffn_regression:
    cmd: "time python src/deep_learning/dffn_regression.py data/imputed/imputed_data.csv.gz\
      \ results/dffn_regression/dffn_regression_plot.png models/dffn_regression/dffn_model.h5\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: a5d59c001c63d16af60ca38fa47a7d6c
      size: 27554564
    - path: src/deep_learning/dffn_regression.py
      hash: md5
      md5: 3bb3ff219626f5d6cc15d3f711c57515
      size: 4931
    outs:
    - path: models/dffn_regression/dffn_model.h5
      hash: md5
      md5: 1df0240c3a12cce67a0ac63a11779843
      size: 329936
    - path: results/dffn_regression/dffn_regression_plot.png
      hash: md5
      md5: 3004ba84b933d06f4ceb81d4856fea12
      size: 250323
