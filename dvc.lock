schema: '2.0'
stages:
  data_cleaning:
    cmd: "(time python src/preprocessing/data_cleaning.py data/raw/lucas.csv.gz data/preprocessed/cleaned_data.csv.gz)\
      \ |& tee logs/data_cleaning.log\n"
    deps:
    - path: data/raw/lucas.csv.gz
      hash: md5
      md5: 3ea8e5d4f415ddba6a294bee61e55db6
      size: 28112307
    - path: src/preprocessing/data_cleaning.py
      hash: md5
      md5: 13430d1580633ab56d80cea897ed91ff
      size: 1194
    outs:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: e68ac470202741a9cf450e1ca5279618
      size: 27383059
  data_imputation:
    cmd: "(time python src/preprocessing/data_imputation.py data/preprocessed/cleaned_data.csv.gz\
      \ data/imputed/imputed_data.csv.gz results/data_imputation/missing_value_count.csv)\
      \ |& tee logs/data_imputation.log\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: e68ac470202741a9cf450e1ca5279618
      size: 27383059
    - path: src/preprocessing/data_imputation.py
      hash: md5
      md5: 0109b2341b410142da51d7c0c279acae
      size: 2775
    outs:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: results/data_imputation/missing_value_count.csv
      hash: md5
      md5: d966600c774eaa9e4abb3494b0c38ad1
      size: 9355
  lgbm_regression:
    cmd: "(time python src/machine_learning/lgbm_regression.py data/imputed/imputed_data.csv.gz\
      \ models/lgbm_regression/lgbm_model.pkl results/lgbm_regression/lgbm_regression_plot.png\
      \ results/lgbm_regression/lgbm_importance_features.csv) |& tee logs/lgbm_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/machine_learning/lgbm_regression.py
      hash: md5
      md5: 5cf4ae5f14fdab041a2adfd52f8af4a9
      size: 5023
    outs:
    - path: models/lgbm_regression/lgbm_model.pkl
      hash: md5
      md5: 78d14e6674f6dcd47e2a697cf1ce14e0
      size: 288650
    - path: results/lgbm_regression/lgbm_importance_features.csv
      hash: md5
      md5: cfe1f039637c8798e6fabfaf2a426e78
      size: 9241
    - path: results/lgbm_regression/lgbm_regression_plot.png
      hash: md5
      md5: 66e3b891f6272ebfc9a9e2279fe61382
      size: 237518
  regression_analysis:
    cmd: "(time python src/analysing/regression_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/regression_analysis/predictions.csv results/regression_analysis/regression_coefficients.csv\
      \ results/regression_analysis/predicted_vs_actual_plot.png results/regression_analysis/regression_plot.png\
      \ models/regression_analysis/rf_model.pkl) |& tee logs/regression_analysis.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/analysing/regression_analysis.py
      hash: md5
      md5: 4c807e59b59ccf0aeab9d1d0a01d8bf1
      size: 5201
    outs:
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
    - path: results/regression_analysis/predicted_vs_actual_plot.png
      hash: md5
      md5: 6d52546b00ddfcface31e0110950b363
      size: 106482
    - path: results/regression_analysis/predictions.csv
      hash: md5
      md5: d38014e9d99e5bf046ae08910bd25bc5
      size: 275765
    - path: results/regression_analysis/regression_coefficients.csv
      hash: md5
      md5: c59708a4107d0a225882b149f94b2604
      size: 12437
    - path: results/regression_analysis/regression_plot.png
      hash: md5
      md5: d9c1d03aaada0e7945290c40707d1193
      size: 80589
  mlp_regression:
    cmd: "(time python src/deep_learning/mlp_regression.py data/imputed/imputed_data.csv.gz\
      \ results/mlp_regression/mlp_regression_plot.png models/mlp_regression/mlp_model.h5)\
      \ |& tee logs/mlp_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/deep_learning/mlp_regression.py
      hash: md5
      md5: 193037389b56543d4d027d018f7c282e
      size: 4757
    outs:
    - path: models/mlp_regression/mlp_model.h5
      hash: md5
      md5: 64ab9c3b731a16852cfe859288e55124
      size: 188984
    - path: results/mlp_regression/mlp_regression_plot.png
      hash: md5
      md5: 9811c41d5ee0937e77cadaff8ca985cb
      size: 242399
  wide_and_deep_regression:
    cmd: "(time python src/deep_learning/wide_and_deep_regression.py data/imputed/imputed_data.csv.gz\
      \ results/wide_and_deep_regression/wide_and_deep_regression.png models/wide_and_deep_regression/wide_and_deep_model.h5)\
      \ |& tee logs/wide_and_deep_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/deep_learning/wide_and_deep_regression.py
      hash: md5
      md5: 9dc1cab2189d31dd62b5d4113f9d5f97
      size: 5347
    outs:
    - path: models/wide_and_deep_regression/wide_and_deep_model.h5
      hash: md5
      md5: 5de05513a72db88e6b61a665d3730ffd
      size: 125896
    - path: results/wide_and_deep_regression/wide_and_deep_regression.png
      hash: md5
      md5: af3472896e205c69bebb3235fe40523f
      size: 262262
  dffn_regression:
    cmd: "(time python src/deep_learning/dffn_regression.py data/imputed/imputed_data.csv.gz\
      \ results/dffn_regression/dffn_regression_plot.png models/dffn_regression/dffn_model.h5)\
      \ |& tee logs/dffn_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/deep_learning/dffn_regression.py
      hash: md5
      md5: 78c267196dfeef7f01b40d5ecda96f09
      size: 4890
    outs:
    - path: models/dffn_regression/dffn_model.h5
      hash: md5
      md5: 4e2483c242133394e5dd4e60239ed8c0
      size: 329936
    - path: results/dffn_regression/dffn_regression_plot.png
      hash: md5
      md5: 92bf892578e4060dfdbb7dd301fa0b1e
      size: 229892
  correlation_analysis:
    cmd: "(time python src/analysing/correlation_analysis.py data/preprocessed/cleaned_data.csv.gz\
      \ results/correlation_analysis/soc_percent_correlations.csv results/correlation_analysis/correlation_bar_graph.png\
      \ results/correlation_analysis/scatterplot_matrix.png) |& tee logs/correlation_analysis.log\n"
    deps:
    - path: data/preprocessed/cleaned_data.csv.gz
      hash: md5
      md5: e68ac470202741a9cf450e1ca5279618
      size: 27383059
    - path: src/analysing/correlation_analysis.py
      hash: md5
      md5: 7b94909542af98f8be75b190f18fa471
      size: 4007
    outs:
    - path: results/correlation_analysis/correlation_bar_graph.png
      hash: md5
      md5: dfbd456ea5ab715c9984b0b1df3f1eb9
      size: 45099
    - path: results/correlation_analysis/scatterplot_matrix.png
      hash: md5
      md5: a1d8145ba5300c8ddc92d19c0e1600e4
      size: 1984548
    - path: results/correlation_analysis/soc_percent_correlations.csv
      hash: md5
      md5: c13ecf37b0d0ad5758e705df5e62443e
      size: 12263
  svm_regression:
    cmd: "(time python src/machine_learning/svm_regression.py data/imputed/imputed_data.csv.gz\
      \ models/svm_regression/svm_model.pkl results/svm_regression/svm_regression_plot.png)\
      \ |& tee logs/svm_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/machine_learning/svm_regression.py
      hash: md5
      md5: 7cfdce466803090c2c9a4dc4574eb27c
      size: 4529
    outs:
    - path: models/svm_regression/svm_model.pkl
      hash: md5
      md5: 76bda78d646c1d80438b3243dbcd88e8
      size: 68645952
    - path: results/svm_regression/svm_regression_plot.png
      hash: md5
      md5: c5ebb03bcfa757c1850f3adec194e0bc
      size: 151673
  lstm_regression:
    cmd: "(time python src/deep_learning/lstm_regression.py data/imputed/imputed_data.csv.gz\
      \ results/lstm_regression/lstm_regression_plot.png models/lstm_regression/lstm_model.h5)\
      \ |& tee logs/lstm_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/deep_learning/lstm_regression.py
      hash: md5
      md5: 5be66589875ff48d77ff59c17d6ce29f
      size: 5766
    outs:
    - path: models/lstm_regression/lstm_model.h5
      hash: md5
      md5: 8198086f9ae5d4f6e67553cbee979c48
      size: 924104
    - path: results/lstm_regression/lstm_regression_plot.png
      hash: md5
      md5: 83ba553a69205505bf781ae688328ad0
      size: 281462
  lasso_regression:
    cmd: "(time python src/machine_learning/lasso_regression.py data/imputed/imputed_data.csv.gz\
      \ models/lasso_regression/lr_model.pkl results/lasso_regression/lasso_coefficients.csv\
      \ results/lasso_regression/lasso_regression_plot.png) |& tee logs/lasso_regression.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: src/machine_learning/lasso_regression.py
      hash: md5
      md5: 56ad6fe035c73f79d44857c637d40d7e
      size: 4755
    outs:
    - path: models/lasso_regression/lr_model.pkl
      hash: md5
      md5: 1cf6335ff0140ffb6e001038555c7cf5
      size: 405749
    - path: results/lasso_regression/lasso_coefficients.csv
      hash: md5
      md5: 62cc0da5c15d2d548c346280bb081288
      size: 11190
    - path: results/lasso_regression/lasso_regression_plot.png
      hash: md5
      md5: dbc705c0ed24b88e111c748458c5dd57
      size: 190827
  permutation_importance:
    cmd: "(time python src/analysing/permutation_importance_analysis.py data/imputed/imputed_data.csv.gz\
      \ results/permutation_importance_analysis/permutation_importance.csv results/permutation_importance_analysis/permutation_importance.png\
      \  models/regression_analysis/rf_model.pkl) |& tee logs/permutation_importance_analysis.log\n"
    deps:
    - path: data/imputed/imputed_data.csv.gz
      hash: md5
      md5: e458cf1bb65c1021f37bb9589e22ebb6
      size: 27554564
    - path: models/regression_analysis/rf_model.pkl
      hash: md5
      md5: 46ead5d665e7b76c9ff9a283fba633ab
      size: 396628737
    - path: src/analysing/permutation_importance_analysis.py
      hash: md5
      md5: 8bbf7bf31b6f4edeece0757d60d85554
      size: 3153
    outs:
    - path: results/permutation_importance_analysis/permutation_importance.csv
      hash: md5
      md5: 22929b54b5f06e54caad5178e40ca77f
      size: 16344
    - path: results/permutation_importance_analysis/permutation_importance.png
      hash: md5
      md5: ef75f9140fd4cd1f7064ee34628f8197
      size: 58492
